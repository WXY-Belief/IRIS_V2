# IRIS_V2
## 1.Introduction
This repository is an upgraded version of **IRIS（https://github.com/th00516/ISS_pyIRIS）**, designed with the primary functionality of analyzing fluorescence data generated by ISS to obtain RNA coordinates.
## 2.Prerequisites
To install requirements:  
```
pip install -r requirements.txt
```  
- Python 3.8.13  
## 3.Tutorial
### Directory structure of input data
The names of cycles and channels can be configured in the Configuration.yaml.
- data
  - 1 
    - channel 0.tif
    - channel 1.tif
    - channel 2.tif
    - channel 3.tif
    - channel 4.tif
  - 2 
    - channel 0.tif
    - channel 1.tif
    - channel 2.tif
    - channel 3.tif
    - channel 4.tif
  - 3
    - channel 0.tif
    - channel 1.tif
    - channel 2.tif
    - channel 3.tif
    - channel 4.tif
  - 4
    - channel 0.tif
    - channel 1.tif
    - channel 2.tif
    - channel 3.tif
    - channel 4.tif
### Input parameter  

The Configuration.yaml include all parameter in runing. 

- `data_path`: absolute path of data path.

- `output_path`: absolute path of output path.
  
- `iris_path`: absolute path of IRIS path.

- `register_mode`: register mode. # Alternative option: "ORB", "BRISK".

- `mode`: whether to cut images when images is too large. com:NO large:YES.

- `large_img_para`: First cutting
  - `cut_size` ": the size of cut img
  - `overlap` ": the overlap size of cut img

- `small_img_para`: Second cutting
  - `cut_size` ": the size of cut img
  - `overlap` ": the overlap size of cut img

- `core_num`: the number of CPU core

- `cycle`: cycle name
  - 1 : the name of cycle 1
  - 2 : the name of cycle 2
  - 3 : the name of cycle 3
  - 4 : the name of cycle 4

- `channel`: cycle channel
  - 0 : the name of channel 0. Reference images in registering.
  - A : the name of channel A
  - T : the name of channel T
  - C : the name of channel C
  - G : the name of channel G
  
- `barcode_path`: gene-barcode file.

- `search_region`: the size of search region  in connect base on different cycle. # Alternative option: 2, 3, 4.

- `temp_flag`: whether to generate debug file. 0:NO 1:YES

- `blob_params`: Second cutting
  - `minThreshold` ": The threshold of pixel filtered. Alternative option: "AUTO", 0, 1, ..., 10.
  - `maxArea` ": The maximum area of point. Alternative option 65, 121, 145
  
### Running
```
python main.py --c <<absolute path of Configuration.yaml>>
```

### Output result

```

